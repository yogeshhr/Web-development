<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Traffic Light</title>

<style>
body {
    min-height: 100vh;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);
    overflow: hidden;
    font-family: Arial, sans-serif;
}

.scene {
    position: relative;
}

h4 {
    color: #ffdd57;
    text-align: center;
    margin-bottom: 20px;
}

.rectangle {
    width: 130px;
    height: 340px;
    background: #1e1e1e;
    border-radius: 25px;
    padding: 20px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    box-shadow: 0 20px 40px rgba(0,0,0,0.6);
    position: relative;
    z-index: 2;
}

.light {
    width: 90px;
    height: 90px;
    border-radius: 50%;
    opacity: 0.25;
    position: relative;
}

.red { background: red; animation: redLight 9s infinite; }
.yellow { background: yellow; animation: yellowLight 9s infinite; }
.green { background: limegreen; animation: greenLight 9s infinite; }

.pole {
    width: 18px;
    height: 120px;
    background: #333;
    margin: auto;
}

.base {
    width: 90px;
    height: 20px;
    background: #222;
    border-radius: 10px;
    margin: auto;
}

.rain {
    position: fixed;
    inset: 0;
    background-image:
        repeating-linear-gradient(
            to bottom,
            rgba(255,255,255,0.15) 0px,
            rgba(255,255,255,0.15) 1px,
            transparent 1px,
            transparent 6px
        );
    animation: rain 0.6s linear infinite;
    pointer-events: none;
}

@keyframes rain {
    to { background-position: 0 100%; }
}

@keyframes redLight {
    0%,40% { opacity:1; box-shadow:0 0 30px red; }
    41%,100% { opacity:0.25; box-shadow:none; }
}
@keyframes yellowLight {
    0%,40% { opacity:0.25; }
    41%,60% { opacity:1; box-shadow:0 0 30px yellow; }
    61%,100% { opacity:0.25; }
}
@keyframes greenLight {
    0%,60% { opacity:0.25; }
    61%,100% { opacity:1; box-shadow:0 0 30px limegreen; }
}
</style>
</head>

<body>

<div class="scene">
    <h4>Traffic Light</h4>

    <div class="rectangle">
        <div class="light red"></div>
        <div class="light yellow"></div>
        <div class="light green"></div>
    </div>
    <div class="pole"></div>
    <div class="base"></div>
</div>

<div class="rain"></div>

</body>
</html>
